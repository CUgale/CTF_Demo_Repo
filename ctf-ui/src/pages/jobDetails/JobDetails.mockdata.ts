import { JobDetails } from './JobDetails.interface';

// Job 001 - Paused at Test Generation phase (waiting for user to review and approve tests)
export const mockJobDetails001: JobDetails = {
  id: 'job-001',
  jobName: 'Customer Analytics - ETL Pipeline',
  sourceType: 'dbt',
  status: 'running',
  phases: [
    {
      id: 'phase-1',
      name: 'Code Pull',
      status: 'completed',
      startedAt: '2024-01-15T14:00:00Z',
      completedAt: '2024-01-15T14:01:30Z',
      duration: 90,
      progress: 100,
      metadata: {
        codeSync: {
          filesCount: 142,
          foldersCount: 28,
          totalSize: '2.4 MB',
          commitSha: 'a1b2c3d4e5f6789',
          commitMessage: 'Add customer analytics ETL pipeline',
          branch: 'main',
          pulledAt: '2024-01-15T14:01:30Z',
        },
      },
      logs: [
        'Connecting to repository...',
        'Pulling commit a1b2c3d4e5f6789...',
        'Scanning project structure...',
        'Found 142 files across 28 folders',
        'Code sync completed successfully',
      ],
    },
    {
      id: 'phase-2',
      name: 'SQL Generation',
      status: 'completed',
      startedAt: '2024-01-15T14:01:30Z',
      completedAt: '2024-01-15T14:03:45Z',
      duration: 135,
      progress: 100,
      metadata: {
        dbtToSql: {
          modelsCount: 45,
          sqlFilesCount: 45,
          testsCount: 142,
          compiledAt: '2024-01-15T14:03:45Z',
          compilationTime: 135,
        },
      },
      logs: [
        'Parsing dbt project...',
        'Compiling 45 models...',
        'Generating SQL files...',
        'Compiling 142 tests...',
        'dbt compilation completed successfully',
      ],
    },
    {
      id: 'phase-3',
      name: 'Test Generation',
      status: 'completed',
      startedAt: '2024-01-15T14:03:45Z',
      completedAt: '2024-01-15T14:07:15Z',
      duration: 210,
      progress: 100,
      metadata: {
        testGeneration: {
          testsGenerated: 18,
          generatedAt: '2024-01-15T14:07:15Z',
          generationTime: 210,
          aiModel: 'GPT-4',
        },
      },
      actionButton: {
        label: 'Review Tests',
        onClick: () => {},
      },
      logs: [
        'Analyzing SQL files with AI...',
        'Generating test cases...',
        '18 new tests generated',
        'Test generation completed successfully',
        'Job paused - waiting for user review and acceptance',
        'User can review tests, generate more tests, or accept/reject tests',
      ],
    },
    {
      id: 'phase-4',
      name: 'Data Generation',
      status: 'pending',
      progress: 0,
    },
    {
      id: 'phase-5',
      name: 'Data Load',
      status: 'pending',
      progress: 0,
    },
    {
      id: 'phase-6',
      name: 'Tests Execution',
      status: 'pending',
      progress: 0,
    },
    {
      id: 'phase-7',
      name: 'Code Push',
      status: 'pending',
      progress: 0,
    },
  ],
  createdAt: '2024-01-15T14:00:00Z',
  updatedAt: '2024-01-15T14:07:15Z',
  duration: 435,
  projectId: 'project-1',
  commitId: 'commit-1',
  commitSha: 'a1b2c3d4e5f6789',
  commitMessage: 'Add customer analytics ETL pipeline',
  branch: 'main',
};

// Job 002 - Completed (full pipeline: tests approved, data generated, tests executed)
export const mockJobDetails002: JobDetails = {
  id: 'job-002',
  jobName: 'Order Analytics - Full Pipeline',
  sourceType: 'dbt',
  status: 'completed',
  phases: [
    {
      id: 'phase-1',
      name: 'Code Pull',
      status: 'completed',
      startedAt: '2024-01-15T10:00:00Z',
      completedAt: '2024-01-15T10:01:45Z',
      duration: 105,
      progress: 100,
      metadata: {
        codeSync: {
          filesCount: 98,
          foldersCount: 22,
          totalSize: '1.8 MB',
          commitSha: 'b2c3d4e5f6a7890',
          commitMessage: 'Update order analytics models',
          branch: 'main',
          pulledAt: '2024-01-15T10:01:45Z',
        },
      },
      logs: [
        'Connecting to repository...',
        'Pulling commit b2c3d4e5f6a7890...',
        'Scanning project structure...',
        'Found 98 files across 22 folders',
        'Code sync completed successfully',
      ],
    },
    {
      id: 'phase-2',
      name: 'SQL Generation',
      status: 'completed',
      startedAt: '2024-01-15T10:01:45Z',
      completedAt: '2024-01-15T10:03:40Z',
      duration: 115,
      progress: 100,
      metadata: {
        dbtToSql: {
          modelsCount: 32,
          sqlFilesCount: 32,
          testsCount: 96,
          compiledAt: '2024-01-15T10:03:40Z',
          compilationTime: 115,
        },
      },
      logs: [
        'Parsing dbt project...',
        'Compiling 32 models...',
        'Generating SQL files...',
        'Compiling 96 tests...',
        'dbt compilation completed successfully',
      ],
    },
    {
      id: 'phase-3',
      name: 'Test Generation',
      status: 'completed',
      startedAt: '2024-01-15T10:03:40Z',
      completedAt: '2024-01-15T10:07:15Z',
      duration: 215,
      progress: 100,
      metadata: {
        testGeneration: {
          testsGenerated: 28,
          generatedAt: '2024-01-15T10:07:15Z',
          generationTime: 215,
          aiModel: 'GPT-4',
        },
      },
      logs: [
        'Analyzing SQL files with AI...',
        'Generating test cases...',
        '28 new tests generated',
        'Test generation completed successfully',
        'Waiting for user review and acceptance...',
        'Tests accepted by user - proceeding to data generation',
      ],
    },
    {
      id: 'phase-4',
      name: 'Data Generation',
      status: 'completed',
      startedAt: '2024-01-15T10:07:15Z',
      completedAt: '2024-01-15T10:10:05Z',
      duration: 170,
      progress: 100,
      metadata: {
        sqlToData: {
          analyzedSqlCount: 45,
          recordsGenerated: 4500,
          recordsPerTable: 100,
          dataSize: '12.5 MB',
          timeTaken: 170,
          kingfisherVersion: 'V1',
          tablesCount: 45,
          analyzedTablesCount: 45,
          constraintsCount: 120,
          associationsCount: 35,
          literalsSummary: '150 unique values across 12 columns',
          dataPreview: [
            {
              tableName: 'dim_customers',
              columns: ['customer_id', 'name', 'email', 'segment', 'created_at'],
              rows: [
                { customer_id: 1001, name: 'John Smith', email: 'john.smith@example.com', segment: 'Enterprise', created_at: '2024-01-10' },
                { customer_id: 1002, name: 'Sarah Johnson', email: 'sarah.j@example.com', segment: 'SMB', created_at: '2024-01-11' },
                { customer_id: 1003, name: 'Mike Wilson', email: 'mike.w@example.com', segment: 'Enterprise', created_at: '2024-01-12' },
                { customer_id: 1004, name: 'Emily Brown', email: 'emily.b@example.com', segment: 'Startup', created_at: '2024-01-13' },
                { customer_id: 1005, name: 'David Lee', email: 'david.l@example.com', segment: 'SMB', created_at: '2024-01-14' },
                { customer_id: 1006, name: 'Lisa Anderson', email: 'lisa.a@example.com', segment: 'Enterprise', created_at: '2024-01-15' },
                { customer_id: 1007, name: 'James Taylor', email: 'james.t@example.com', segment: 'Startup', created_at: '2024-01-16' },
                { customer_id: 1008, name: 'Jennifer Martinez', email: 'jen.m@example.com', segment: 'SMB', created_at: '2024-01-17' },
                { customer_id: 1009, name: 'Robert Garcia', email: 'robert.g@example.com', segment: 'Enterprise', created_at: '2024-01-18' },
                { customer_id: 1010, name: 'Patricia Davis', email: 'pat.d@example.com', segment: 'SMB', created_at: '2024-01-19' },
              ],
              totalRows: 100,
            },
            {
              tableName: 'fct_orders',
              columns: ['order_id', 'customer_id', 'amount', 'status', 'order_date'],
              rows: [
                { order_id: 5001, customer_id: 1001, amount: 2500.00, status: 'completed', order_date: '2024-01-12' },
                { order_id: 5002, customer_id: 1003, amount: 8750.50, status: 'completed', order_date: '2024-01-13' },
                { order_id: 5003, customer_id: 1002, amount: 1200.00, status: 'pending', order_date: '2024-01-14' },
                { order_id: 5004, customer_id: 1005, amount: 3400.75, status: 'completed', order_date: '2024-01-14' },
                { order_id: 5005, customer_id: 1004, amount: 950.00, status: 'processing', order_date: '2024-01-15' },
                { order_id: 5006, customer_id: 1006, amount: 4200.00, status: 'completed', order_date: '2024-01-16' },
                { order_id: 5007, customer_id: 1007, amount: 1800.25, status: 'completed', order_date: '2024-01-17' },
                { order_id: 5008, customer_id: 1008, amount: 3100.00, status: 'pending', order_date: '2024-01-18' },
                { order_id: 5009, customer_id: 1009, amount: 5600.50, status: 'completed', order_date: '2024-01-19' },
                { order_id: 5010, customer_id: 1010, amount: 890.00, status: 'cancelled', order_date: '2024-01-20' },
              ],
              totalRows: 100,
            },
            {
              tableName: 'dim_products',
              columns: ['product_id', 'name', 'category', 'price', 'stock'],
              rows: [
                { product_id: 2001, name: 'Analytics Suite Pro', category: 'Software', price: 499.00, stock: 50 },
                { product_id: 2002, name: 'Data Pipeline Tool', category: 'Software', price: 299.00, stock: 100 },
                { product_id: 2003, name: 'Cloud Storage 1TB', category: 'Service', price: 99.00, stock: 200 },
                { product_id: 2004, name: 'API Gateway License', category: 'Software', price: 199.00, stock: 75 },
                { product_id: 2005, name: 'Support Package', category: 'Service', price: 149.00, stock: 150 },
                { product_id: 2006, name: 'Data Warehouse Solution', category: 'Software', price: 899.00, stock: 30 },
                { product_id: 2007, name: 'ML Model Hosting', category: 'Service', price: 349.00, stock: 80 },
                { product_id: 2008, name: 'Real-time Analytics', category: 'Software', price: 599.00, stock: 45 },
                { product_id: 2009, name: 'ETL Connector Pack', category: 'Software', price: 249.00, stock: 120 },
                { product_id: 2010, name: 'Premium Support 24/7', category: 'Service', price: 499.00, stock: 60 },
              ],
              totalRows: 100,
            },
          ],
        },
      },
      logs: [
        'Initializing Kingfisher application...',
        'Analyzing 45 SQL files...',
        'Generating test data (100 records per table)...',
        'Data generation completed: 4500 records',
        'Total data size: 12.5 MB',
      ],
    },
    {
      id: 'phase-5',
      name: 'Data Load',
      status: 'completed',
      startedAt: '2024-01-15T10:10:05Z',
      completedAt: '2024-01-15T10:11:00Z',
      duration: 55,
      progress: 100,
      metadata: {
        loadData: {
          targetLocation: 's3://test-data-bucket/job-002/',
          filesWritten: 45,
          totalSize: '12.5 MB',
          loadTime: 55,
          loadedAt: '2024-01-15T10:11:00Z',
        },
      },
      logs: [
        'Preparing data for upload...',
        'Writing 45 files to target location...',
        'Uploading to s3://test-data-bucket/job-002/',
        'Data load completed successfully',
      ],
    },
    {
      id: 'phase-6',
      name: 'Tests Execution',
      status: 'completed',
      startedAt: '2024-01-15T10:11:00Z',
      completedAt: '2024-01-15T10:13:25Z',
      duration: 145,
      progress: 100,
      metadata: {
        testExecution: {
          totalTests: 170,
          passedTests: 141,
          failedTests: 2,
          executionTime: 145,
          executedAt: '2024-01-15T10:13:25Z',
        },
      },
      actionButton: {
        label: 'Review Tests & Push to Git',
        onClick: () => {},
      },
      logs: [
        'Starting test execution...',
        'Executing tests on generated data...',
        '141 tests passed',
        '2 tests failed',
        '27 tests skipped',
        'Test execution completed',
        'Ready for review and push to git',
      ],
    },
    {
      id: 'phase-7',
      name: 'Code Push',
      status: 'pending',
      progress: 0,
    },
  ],
  createdAt: '2024-01-15T10:00:00Z',
  updatedAt: '2024-01-15T10:13:25Z',
  duration: 810,
  projectId: 'project-1',
  commitId: 'commit-2',
  commitSha: 'b2c3d4e5f6a7890',
  commitMessage: 'Update order analytics models',
  branch: 'main',
};

// Job 003 - Running in Data Generation phase (tests approved, now generating data)
export const mockJobDetails003: JobDetails = {
  id: 'job-003',
  jobName: 'Product Catalog - Data Generation',
  sourceType: 'dbt',
  status: 'running',
  phases: [
    {
      id: 'phase-1',
      name: 'Code Pull',
      status: 'completed',
      startedAt: '2024-01-15T12:00:00Z',
      completedAt: '2024-01-15T12:01:30Z',
      duration: 90,
      progress: 100,
      metadata: {
        codeSync: {
          filesCount: 120,
          foldersCount: 25,
          totalSize: '2.1 MB',
          commitSha: 'c3d4e5f6a7b8901',
          commitMessage: 'Add product catalog models',
          branch: 'main',
          pulledAt: '2024-01-15T12:01:30Z',
        },
      },
      logs: [
        'Connecting to repository...',
        'Pulling commit c3d4e5f6a7b8901...',
        'Scanning project structure...',
        'Found 120 files across 25 folders',
        'Code sync completed successfully',
      ],
    },
    {
      id: 'phase-2',
      name: 'SQL Generation',
      status: 'completed',
      startedAt: '2024-01-15T12:01:30Z',
      completedAt: '2024-01-15T12:03:45Z',
      duration: 135,
      progress: 100,
      metadata: {
        dbtToSql: {
          modelsCount: 38,
          sqlFilesCount: 38,
          testsCount: 114,
          compiledAt: '2024-01-15T12:03:45Z',
          compilationTime: 135,
        },
      },
      logs: [
        'Parsing dbt project...',
        'Compiling 38 models...',
        'Generating SQL files...',
        'Compiling 114 tests...',
        'dbt compilation completed successfully',
      ],
    },
    {
      id: 'phase-3',
      name: 'Test Generation',
      status: 'completed',
      startedAt: '2024-01-15T12:03:45Z',
      completedAt: '2024-01-15T12:07:20Z',
      duration: 215,
      progress: 100,
      metadata: {
        testGeneration: {
          testsGenerated: 22,
          generatedAt: '2024-01-15T12:07:20Z',
          generationTime: 215,
          aiModel: 'GPT-4',
        },
      },
      logs: [
        'Analyzing SQL files with AI...',
        'Generating test cases...',
        '22 new tests generated',
        'Test generation completed successfully',
        'Waiting for user review and acceptance...',
        'Tests accepted by user - proceeding to data generation',
      ],
    },
    {
      id: 'phase-4',
      name: 'Data Generation',
      status: 'running',
      startedAt: '2024-01-15T12:07:20Z',
      duration: 0,
      progress: 65,
      metadata: {
        sqlToData: {
          analyzedSqlCount: 38,
          recordsGenerated: 2470,
          recordsPerTable: 65,
          dataSize: '8.2 MB',
          timeTaken: 0,
          kingfisherVersion: 'V1',
          tablesCount: 38,
          analyzedTablesCount: 38,
          constraintsCount: 95,
          associationsCount: 28,
          literalsSummary: '120 unique values across 10 columns',
          dataPreview: [
            {
              tableName: 'products',
              columns: ['product_id', 'name', 'category', 'price', 'stock', 'created_at'],
              rows: [
                { product_id: 2001, name: 'Analytics Suite Pro', category: 'Software', price: 499.00, stock: 50, created_at: '2024-01-10' },
                { product_id: 2002, name: 'Data Pipeline Tool', category: 'Software', price: 299.00, stock: 100, created_at: '2024-01-11' },
                { product_id: 2003, name: 'Cloud Storage 1TB', category: 'Service', price: 99.00, stock: 200, created_at: '2024-01-12' },
                { product_id: 2004, name: 'API Gateway License', category: 'Software', price: 199.00, stock: 75, created_at: '2024-01-13' },
                { product_id: 2005, name: 'Support Package', category: 'Service', price: 149.00, stock: 150, created_at: '2024-01-14' },
              ],
              totalRows: 100,
            },
            {
              tableName: 'product_categories',
              columns: ['category_id', 'name', 'description', 'parent_category'],
              rows: [
                { category_id: 1, name: 'Software', description: 'Software products and licenses', parent_category: null },
                { category_id: 2, name: 'Service', description: 'Service offerings', parent_category: null },
                { category_id: 3, name: 'Hardware', description: 'Physical hardware products', parent_category: null },
              ],
              totalRows: 10,
            },
          ],
        },
      },
      logs: [
        'Initializing Kingfisher application...',
        'Analyzing 38 SQL files...',
        'Generating test data (65 records per table so far)...',
        '2470 records generated...',
        'Data generation in progress...',
      ],
    },
    {
      id: 'phase-5',
      name: 'Data Load',
      status: 'pending',
      progress: 0,
    },
    {
      id: 'phase-6',
      name: 'Tests Execution',
      status: 'pending',
      progress: 0,
    },
    {
      id: 'phase-7',
      name: 'Code Push',
      status: 'pending',
      progress: 0,
    },
  ],
  createdAt: '2024-01-15T12:00:00Z',
  updatedAt: '2024-01-15T12:10:20Z',
  duration: 620,
  projectId: 'project-2',
  commitId: 'commit-3',
  commitSha: 'c3d4e5f6a7b8901',
  commitMessage: 'Add product catalog models',
  branch: 'main',
};

// Map of all job details by ID
export const allJobDetails: Record<string, JobDetails> = {
  'job-001': mockJobDetails001,
  'job-002': mockJobDetails002,
  'job-003': mockJobDetails003,
};

// Default export for backward compatibility
export const mockJobDetails = mockJobDetails001;
